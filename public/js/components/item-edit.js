webpackJsonp([1],{200:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),a=(r.n(n),r(19)),i=r.n(a),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default={props:["submit_url","redirect_url","item","vendors","categories"],components:{Multiselect:i.a},data:function(){var t=this;return{name:this.item.name,unit:this.item.unit,m_vendors:this.vendors.map(function(e){return s({},e,{picked:!!t.item.vendors.find(function(t){return t.id===e.id})})}),category:this.categories.find(function(e){return e.id===t.item.category_id})||null,note:this.item.note,picked_vendor:null,error_data:null}},methods:{get:n.get,onFormSubmit:function(){var t=this;axios.post(this.submit_url,this.form_data).then(function(e){window.location.replace(t.redirect_url)}).catch(function(e){t.error_data=e.response.data})}},watch:{picked_vendor:function(t){null!==t&&(t.picked=!0,this.picked_vendor=null)}},computed:{form_data:function(){return{name:this.name,unit:this.unit,vendors:this.picked_vendors.map(function(t){return t.id}),category_id:this.category?this.category.id:null,note:this.note}},unpicked_vendors:function(){return this.m_vendors.filter(function(t){return!t.picked})},picked_vendors:function(){return this.m_vendors.filter(function(t){return t.picked})}}}},201:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{submit:function(e){return e.preventDefault(),t.onFormSubmit(e)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[t._v(" Name: ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{"is-invalid":t.get(this.error_data,"errors.name[0]",!1)},attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),r("div",{staticClass:"invalid-feedback"},[t._v("\n             "+t._s(t.get(this.error_data,"errors.name[0]",!1))+"\n        ")])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"unit"}},[t._v(" Unit: ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],staticClass:"form-control",class:{"is-invalid":t.get(this.error_data,"errors.unit[0]",!1)},attrs:{type:"text",id:"unit",placeholder:"Unit"},domProps:{value:t.unit},on:{input:function(e){e.target.composing||(t.unit=e.target.value)}}}),t._v(" "),r("div",{staticClass:"invalid-feedback"},[t._v("\n             "+t._s(t.get(this.error_data,"errors.unit[0]",!1))+"\n        ")])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"category_id"}},[t._v(" Category: ")]),t._v(" "),r("multiselect",{attrs:{placeholder:"Category","allow-empty":!1,selectLabel:"",selectedLabel:"",deselectLabel:"","track-by":"id",label:"name",options:t.categories},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),t._v(" "),t.get(this.error_data,"errors.category_id[0]",!1)?r("div",{staticClass:"text-error"},[t._v("\n            "+t._s(t.get(this.error_data,"errors.category_id[0]",!1))+"\n        ")]):t._e()],1),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"note"}},[t._v(" Note: ")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],staticClass:"form-control",class:{"is-invalid":t.get(this.error_data,"errors.note[0]",!1)},attrs:{type:"text",id:"note",placeholder:"Note"},domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}}),t._v(" "),r("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.get(this.error_data,"errors.note[0]",!1)))])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v(" Vendor to Add: ")]),t._v(" "),r("multiselect",{attrs:{placeholder:"Vendor",selectLabel:"",selectedLabel:"",deselectLabel:"","track-by":"id",label:"name",options:t.unpicked_vendors},model:{value:t.picked_vendor,callback:function(e){t.picked_vendor=e},expression:"picked_vendor"}})],1),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v(" Vendor List: ")]),t._v(" "),t.picked_vendors.length>0?r("table",{staticClass:"table table-sm table-striped table-bordered"},[t._m(0),t._v(" "),r("tbody",t._l(t.picked_vendors,function(e,n){return r("tr",{key:n},[r("td",[t._v("\n                        "+t._s(e.name)+"\n                    ")]),t._v(" "),r("td",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(t){e.picked=!1}}},[r("i",{staticClass:"fa fa-trash"})])])])}),0)]):r("div",{staticClass:"alert alert-warning"},[r("i",{staticClass:"fa fa-warning"}),t._v("\n            You haven't picked any vendor\n        ")])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead thead-dark"},[e("tr",[e("th",[this._v(" Vendor ")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v(" Controls ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group d-flex justify-content-end"},[e("button",{staticClass:"btn btn-primary btn-small"},[this._v("\n            Update Item\n            "),e("i",{staticClass:"fa fa-check"})])])}]}},66:function(t,e,r){var n=r(18)(r(200),r(201),!1,null,null,null);t.exports=n.exports}});